<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Terrific Micro by namics</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Terrific Micro</h1>
        <h2>Powerful PHP application for simple &amp; complex frontend development with a tiny footprint.</h2>
        <a href="https://github.com/namics/terrific-micro" class="button"><small>View project on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>
<a id="readme---terrific-micro" class="anchor" href="#readme---terrific-micro" aria-hidden="true"><span class="octicon octicon-link"></span></a>Readme - Terrific Micro</h1>

<p><img align="right" src="https://raw.githubusercontent.com/namics/terrific-micro/master/assets/img/icon/terrific-micro.png"></p>

<p>Terrific Micro is a PHP application for simple and complex frontend development with a tiny footprint. 
It provides a proven but flexible structure to develop your frontend code, even in a large team. 
Keep track of your code with a modularized frontend. This app and the suggested <a href="http://terrifically.org"><code>terrific</code> concept</a> could help. 
Terrific Micro is simple, fast and flexible. Use this app for all your frontend work, but it's not intended to use in production environment.</p>

<h2>
<a id="table-of-contents" class="anchor" href="#table-of-contents" aria-hidden="true"><span class="octicon octicon-link"></span></a>Table of contents</h2>

<ul>
<li><a href="#quick-start">Quick Start</a></li>
<li><a href="#daily-work---creating-components--pages">Daily Work - Components &amp; Pages</a></li>
<li><a href="#assets">Assets</a></li>
<li><a href="#conventions">Conventions</a></li>
<li><a href="#security">Security</a></li>
<li><a href="#commandline">Commandline</a></li>
<li><a href="#contributing">Contributing</a></li>
<li><a href="#example-project-includes">Credits &amp; License</a></li>
</ul>

<h2>
<a id="quick-start" class="anchor" href="#quick-start" aria-hidden="true"><span class="octicon octicon-link"></span></a>Quick Start</h2>

<p>You only need an Apache web server 2.2+ with PHP 5.3+ support. 
Enable <code>mod_rewrite</code> and optionally <code>mod_deflate</code> and add the directive <code>AllowOverride All</code> for your directory. (Apache 2.4 needs <code>mod_access_compat</code> enabled.)</p>

<ol>
<li>
<p>Clone repo to a project folder in your web root:</p>

<pre><code>git clone https://github.com/namics/terrific-micro.git projectfolder
rm -rf projectfolder/.git
</code></pre>
</li>
<li>
<p>Start working on your code and see the results:</p>

<pre><code>http://localhost/projectfolder/
http://localhost/projectfolder/app.css
http://localhost/projectfolder/app.js
</code></pre>
</li>
</ol>

<p>You see, we don't need a virtual host.</p>

<h3>
<a id="features" class="anchor" href="#features" aria-hidden="true"><span class="octicon octicon-link"></span></a>Features</h3>

<ul>
<li>Simple project structure</li>
<li>CSS/JS concatenation and minification</li>
<li>LESS/SCSS support</li>
<li>Caching (LESS/SCSS) for optimal performance</li>
<li>GUI to create components</li>
</ul>

<h2>
<a id="daily-work---creating-components--pages" class="anchor" href="#daily-work---creating-components--pages" aria-hidden="true"><span class="octicon octicon-link"></span></a>Daily Work - Creating Components &amp; Pages</h2>

<h3>
<a id="creating-components" class="anchor" href="#creating-components" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating Components</h3>

<p>Components are created in the <code>components</code> folder. A component is an encapsulated block of markup with corresponding styles and scripts. 
A terrific module uses the following structure:</p>

<pre><code>/Example
/Example/example.html
/Example/css/example.css
/Example/js/example.js
</code></pre>

<p>Terrific Skins (css or js) are created using the following conventions:</p>

<pre><code>/Example/css/skins/example-skinname.css
/Example/js/skins/example-skinname.js
</code></pre>

<p>Create additional content templates directly in the component folder:</p>

<pre><code>/Example/example-variant.html
</code></pre>

<h3>
<a id="creating-components--skins-by-gui" class="anchor" href="#creating-components--skins-by-gui" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating Components &amp; Skins by GUI</h3>

<p>But the easiest way to do so is using the included GUI. 
Try it out by requesting http://localhost/projectfolder/terrific/ (don't forget the trailing slash)</p>

<h4>
<a id="components-configuration" class="anchor" href="#components-configuration" aria-hidden="true"><span class="octicon octicon-link"></span></a>Components Configuration</h4>

<p>You can use more than one type of components. Components are configured in <code>config.json</code> (<code>micro/components</code>).</p>

<pre><code>"component-type": {
    "template": "project/templates/module", // template folder to copy by creating a component
    "path": "components/modules",           // path for the newly created component
    "component_prefix": "mod",              // class prefix of component
    "skin_prefix": "skin"                   // class prefix of skin (optional)
}
</code></pre>

<p>The GUI component creator replaces <code>_component</code> and <code>_skin</code> in file names with the appropriate names. 
For file contents there are a bunch of placeholders available: </p>

<pre><code>{{component}} {{component-css}} {{component-js}} {{component-file}} {{component-id}} {{component-prefix}}
{{skin}} {{skin-css}} {{skin-js}} {{skin-file}} {{skin-id}} {{skin-prefix}}
{{user}} {{email}}
</code></pre>

<h3>
<a id="creating-pages" class="anchor" href="#creating-pages" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating pages</h3>

<p>Create a new <code>*.html</code> file in the <code>views</code> folder. You can make as many subfolders as you want.</p>

<pre><code>/views/index.html
/views/content.html
/views/content/variant.html
</code></pre>

<p>Your new page can then be called by the according URL (with or without an extension). Subfolders are represented with a dash.</p>

<pre><code>http://localhost/projectfolder/index
http://localhost/projectfolder/content
http://localhost/projectfolder/content-variant
</code></pre>

<h3>
<a id="render-components" class="anchor" href="#render-components" aria-hidden="true"><span class="octicon octicon-link"></span></a>Render Components</h3>

<p>Pages are meant to be compositions of your components. Therefore you can render components in pages. The component helper gives you two options: 
You can write all markup in your template (= basic mode). 
Or you let the helper write the wrapping container with different inputs (= advanced mode).</p>

<ul>
<li>for basic mode use one or two parameters</li>
<li>for advanced mode use three or more parameters</li>
</ul>

<p>Use the component's name as the first parameter. Be aware, the component name is case-sensitive!</p>

<h4>
<a id="basic-mode-template-with-complete-markup" class="anchor" href="#basic-mode-template-with-complete-markup" aria-hidden="true"><span class="octicon octicon-link"></span></a>Basic Mode: Template with complete Markup</h4>

<p>Render the Example component. (file: <code>example.html</code>)</p>

<pre><code>&lt;?php component('Example'); ?&gt;
</code></pre>

<p>Render the "variant" template from the Example component. (file: <code>example-variant.html</code>)</p>

<pre><code>&lt;?php component('Example', 'variant'); ?&gt;
</code></pre>

<h4>
<a id="advanced-mode-template-without-wrapper-container" class="anchor" href="#advanced-mode-template-without-wrapper-container" aria-hidden="true"><span class="octicon octicon-link"></span></a>Advanced Mode: Template without wrapper container</h4>

<p>Render the Example component with skin "skinname". (file: <code>example-wrapme.html</code>)</p>

<pre><code>&lt;?php component('Example', 'wrapme', 'skinname'); ?&gt;
</code></pre>

<p>Render the Example component with additional attributes. (file: <code>example-wrapme.html</code>)</p>

<pre><code>&lt;?php component('Example', 'wrapme', null, array('data-id' =&gt; 1)); ?&gt; 
</code></pre>

<p>Render the Example component with different skins and additional attributes. (file: <code>example-wrapme.html</code>)</p>

<pre><code>&lt;?php component('Example', 'wrapme', array('skinname','skinname2'), array('data-id' =&gt; 1, 'data-connectors' =&gt; 'cart', 'contenteditable' =&gt; 'true')); ?&gt; (file: `example-wrapme.html`)
</code></pre>

<p>Render the Example component without special markup. (file: <code>example-wrapme.html</code>)</p>

<pre><code>&lt;?php component('Example', 'wrapme', true); ?&gt;
</code></pre>

<h3>
<a id="render-partials" class="anchor" href="#render-partials" aria-hidden="true"><span class="octicon octicon-link"></span></a>Render Partials</h3>

<p>Render a partial (HTML snippet). Partials are placed in <code>views/_partials/</code> as <code>*.html</code> files (e.g. <code>head.html</code>).</p>

<pre><code>&lt;?php partial('head'); ?&gt;
</code></pre>

<p>You can apply variables as an array and use them in the partial</p>

<pre><code>&lt;?php partial('head', array('title' =&gt; 'Page Title')) ?&gt;
&lt;?php echo $data['title']; ?&gt;
</code></pre>

<h2>
<a id="assets" class="anchor" href="#assets" aria-hidden="true"><span class="octicon octicon-link"></span></a>Assets</h2>

<p>Terrific Micro's main feature is asset concatenation for CSS and JavaScript files. If changed, the files will be updated on every request, therefore you'll always get the latest version.</p>

<h3>
<a id="assets-configuration" class="anchor" href="#assets-configuration" aria-hidden="true"><span class="octicon octicon-link"></span></a>Assets Configuration</h3>

<p>You can configure the include order of your assets by defining patterns in <code>config.json</code>.</p>

<pre><code>"assets": {
    "app.css": [
        "+assets/css/variables.less",
        "!assets/css/somefile.*",
        "assets/css/cssreset.css",
        "assets/css/*.*",
        "components/modules/*/css/*.*",
        "components/modules/*/css/skins/*.*"
    ],
    "app.js": [
        "!assets/js/somefile.js",
        "assets/js/jquery-1.11.2.min.js",
        "assets/js/terrific-2-1.0.js",
        "assets/js/*.js",
        "components/modules/*/js/*.js",
        "components/modules/*/js/skins/*.js"
    ]
}
</code></pre>

<h4>
<a id="pattern" class="anchor" href="#pattern" aria-hidden="true"><span class="octicon octicon-link"></span></a>Pattern</h4>

<p>The matching patterns follow the standard glob patterns.
Glob patterns are similar to regular expression but simplified. They are used by several shells.
You should always try to keep the patterns simple. Usually you only need the asterisk <code>*</code> which
matches zero or more characters.</p>

<p>You can read more on standard glob patterns on <a href="http://www.php.net/manual/en/function.glob.php">php.net</a> and <a href="http://cowburn.info/2010/04/30/glob-patterns/">coburn.info</a>.</p>

<h4>
<a id="special-pattern-prefixes" class="anchor" href="#special-pattern-prefixes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Special Pattern Prefixes</h4>

<ul>
<li>You can negate a pattern by starting with an exclamation mark <code>!</code>.
<code>!</code> = exclude pattern</li>
<li>Define all your dependencies for the compiling-process with the <code>+</code> prefix
<code>+</code> = exclude file but prepend it to every compile call for files with the same file extension.</li>
</ul>

<p>The order of these special patterns does not matter.</p>

<h4>
<a id="examples" class="anchor" href="#examples" aria-hidden="true"><span class="octicon octicon-link"></span></a>Examples</h4>

<ul>
<li>
<code>"!components/modules/Test*"    Exclude all modules starting with</code>Test`</li>
<li>
<code>"!**/*-test.*"</code>                Exclude all filenames ending with <code>-test</code>.</li>
<li>
<code>"+assets/css/mixins.less"</code>     Exclude <code>assets/css/mixins.less</code> but prepend to every compile call of every .less file</li>
</ul>

<h4>
<a id="note-on-less--scss-import" class="anchor" href="#note-on-less--scss-import" aria-hidden="true"><span class="octicon octicon-link"></span></a>Note on less &amp; scss <a href="https://github.com/import" class="user-mention">@import</a>
</h4>

<p>Terrific Micro does not use a watcher for asset concatenation. The resources are concatenated with each request. 
Due to less and scss caching-mechanisms in place, this process is quite fast. You should be warned about the usage of <a href="https://github.com/import" class="user-mention">@import</a>, though. As long as you configure them relatively to your <code>projectfolder</code>, they work quite well. But changes in imported files are not tracked by Terrific Micro and therefore changes do not invalidate the cache. This means you either have to clean manually by changing the main file or you can disable caching by setting <code>$nocache = true;</code> in <code>project/index.project.php</code>.</p>

<h4>
<a id="other-asset-files" class="anchor" href="#other-asset-files" aria-hidden="true"><span class="octicon octicon-link"></span></a>Other Asset Files</h4>

<p>You can configure as many different assets as you wish.</p>

<pre><code>"brand.css": [
    "assets/css/reset.css",
    ...
</code></pre>

<h3>
<a id="asset-minification" class="anchor" href="#asset-minification" aria-hidden="true"><span class="octicon octicon-link"></span></a>Asset Minification</h3>

<p>Minified versions of the CSS and/or JS files can be requested by adding the URL parameter <code>min</code>.</p>

<pre><code>http://localhost/projectfolder/app.css?min
http://localhost/projectfolder/app.js?min
</code></pre>

<h3>
<a id="javascript-debugging" class="anchor" href="#javascript-debugging" aria-hidden="true"><span class="octicon octicon-link"></span></a>JavaScript Debugging</h3>

<p>The assets can be loaded individually by adding the URL parameter <code>debug</code>. This is pretty useful for things like remote debugging in PhpStorm.</p>

<pre><code>http://localhost/projectfolder/app.js?debug
</code></pre>

<h2>
<a id="conventions" class="anchor" href="#conventions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Conventions</h2>

<h3>
<a id="resource-linking" class="anchor" href="#resource-linking" aria-hidden="true"><span class="octicon octicon-link"></span></a>Resource linking</h3>

<p>To stay portable you should favour the use of relative paths. Link to resources relatively to the <code>projectfolder</code> <strong>without</strong> a leading slash.</p>

<pre><code>&lt;link rel="stylesheet" href="app.css" type="text/css" /&gt;
&lt;link rel="shortcut icon" href="assets/img/icon/favicon.ico" type="image/x-icon" /&gt;
&lt;script src="app.js"&gt;&lt;/script&gt;
&lt;img src="components/modules/Example/img/example.png" alt="" /&gt;
background: url(assets/img/bg/texture.png) scroll 0 0 no-repeat;
&lt;a href="content.html"&gt;Contentpage&lt;/a&gt;
</code></pre>

<h3>
<a id="upper--lower-case-letters" class="anchor" href="#upper--lower-case-letters" aria-hidden="true"><span class="octicon octicon-link"></span></a>Upper &amp; lower case letters</h3>

<p>Use all lowercase if possible. 
Exceptions:</p>

<ul>
<li>Component folders must match terrific classes, therefore they are case-sensitive.</li>
<li>TerrificJS uses upper case for its namespace <code>Tc</code> and class names <code>Tc.Module.Example</code>
</li>
</ul>

<p>Use the component helper with the <em>exact</em> component name:</p>

<pre><code>&lt;?php component('NavMain'); ?&gt;
</code></pre>

<p>Note that camel case ComponentNames are represented in CSS with dashes.</p>

<pre><code>Navigation   -&gt; Tc.Module.Navigation   -&gt; mod-navigation
NavMain      -&gt; Tc.Module.NavMain      -&gt; mod-nav-main
AdminNavMain -&gt; Tc.Module.AdminNavMain -&gt; mod-admin-nav-main
</code></pre>

<h3>
<a id="indentation" class="anchor" href="#indentation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Indentation</h3>

<p>Terrific Micro uses tabs for indentation and spaces for alignment.</p>

<h2>
<a id="commandline" class="anchor" href="#commandline" aria-hidden="true"><span class="octicon octicon-link"></span></a>Commandline</h2>

<p>You can access Terrific Micro via your commandline and your php binary of choice.</p>

<pre><code>php app/bin/micro
</code></pre>

<p>You can add an additional argument to get the output for either</p>

<ul>
<li>a specific view</li>
<li>a specific CSS file set in config.json</li>
<li>a specific JS file set in config.json</li>
</ul>

<p>Here are some examples:</p>

<pre><code>// Generate index view
php app/bin/micro view:index

// Generate content-variant view
php app/bin/micro view:content-variant

// Generate content view with additional GET parameters foo=bar&amp;baz=foo
php app/bin/micro view:content "foo=bar&amp;baz=foo"

// Generate app.css
php app/bin/micro css:app

// Generate minified app.css
php app/bin/micro css:app min

// Generate app.js
php app/bin/micro js:app

// Generate minified app.js
php app/bin/micro js:app min

// Generate debug app.js
php app/bin/micro js:app debug
</code></pre>

<h2>
<a id="security" class="anchor" href="#security" aria-hidden="true"><span class="octicon octicon-link"></span></a>Security</h2>

<p>To enable the use of Terrific Micro in any project structure some access restricting rules were set. 
These rules were made with the Apache web server in mind by using <code>.htaccess</code> files. These files can easily be adjusted as necessary.</p>

<h3>
<a id="terrific-gui" class="anchor" href="#terrific-gui" aria-hidden="true"><span class="octicon octicon-link"></span></a>Terrific GUI</h3>

<p>All requests to <code>/terrific/</code> except from <code>localhost</code> will be blocked (<code>403 Forbidden</code>). 
To adjust this behaviour, see <code>app/terrific/public/.htaccess</code>.</p>

<h3>
<a id="directory-listing" class="anchor" href="#directory-listing" aria-hidden="true"><span class="octicon octicon-link"></span></a>Directory Listing</h3>

<p>The directory listing is turned off in <code>.htaccess</code>.</p>

<h2>
<a id="contributing" class="anchor" href="#contributing" aria-hidden="true"><span class="octicon octicon-link"></span></a>Contributing</h2>

<ul>
<li>For Bugs &amp; Features please use <a href="https://github.com/namics/terrific-micro/issues">github</a>
</li>
<li>Feel free to fork and send PRs. That's the best way to discuss your ideas.</li>
</ul>

<h2>
<a id="example-project-includes" class="anchor" href="#example-project-includes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example Project Includes</h2>

<ul>
<li><a href="http://jquery.com/">jQuery 1.11.2</a></li>
<li><a href="http://terrifically.org/api/">TerrificJS 2.1.0</a></li>
<li><a href="http://yuilibrary.com/yui/docs/cssreset/">YUI CSS Reset 3.18.1</a></li>
<li>Favicon &amp; Home-Icons from Terrific Micro (replace with your own)</li>
<li>Component <code>Example</code> and some styles in assets/css (you don't need them)</li>
</ul>

<h2>
<a id="used-php-libraries" class="anchor" href="#used-php-libraries" aria-hidden="true"><span class="octicon octicon-link"></span></a>Used PHP Libraries</h2>

<ul>
<li><a href="http://lessphp.gpeasy.com">Less.php</a></li>
<li><a href="http://leafo.net/scssphp">scssphp</a></li>
<li><a href="https://code.google.com/p/cssmin/">CssMin</a></li>
<li><a href="https://github.com/tedious/JShrink">JShrink</a></li>
</ul>

<h2>
<a id="credits" class="anchor" href="#credits" aria-hidden="true"><span class="octicon octicon-link"></span></a>Credits</h2>

<p>Terrific Micro was initiated by <a href="https://github.com/rogerdudler">Roger Dudler</a> and is now maintained by Namics AG</p>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>

<p>Released under the <a href="https://github.com/namics/terrific-micro/blob/master/LICENSE">MIT license</a></p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/namics/terrific-micro/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/namics/terrific-micro/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/namics/terrific-micro"></a> is maintained by <a href="https://github.com/namics">namics</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-55502610-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
